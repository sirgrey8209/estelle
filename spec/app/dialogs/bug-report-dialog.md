# Bug Report Dialog

> 버그 리포트 다이얼로그

## 위치

`lib/ui/widgets/common/bug_report_dialog.dart`

---

## 역할

- 버그 설명 입력
- 현재 대화/워크스페이스 정보와 함께 전송

---

## 호출 방법

```dart
BugReportDialog.show(context);
```

**호출 트리거**: 모바일 레이아웃에서 트리플 탭

---

## 상태 (State)

| 상태 | 타입 | 설명 |
|------|------|------|
| `_controller` | `TextEditingController` | 입력 컨트롤러 |
| `_sending` | `bool` | 전송 중 여부 |

---

## 구조

```
┌─────────────────────────────────────┐
│  🐛 버그 리포트                      │  ← Title
├─────────────────────────────────────┤
│  문제를 설명해주세요:                 │
│  ┌───────────────────────────────┐  │
│  │ 어떤 문제가 발생했나요?         │  │  ← TextField (5줄)
│  │                               │  │
│  │                               │  │
│  └───────────────────────────────┘  │
│  현재 대화/워크스페이스 정보가...     │  ← 안내 문구
├─────────────────────────────────────┤
│              [취소]  [전송]          │  ← Buttons
└─────────────────────────────────────┘
```

---

## 동작

### 전송

1. 입력 텍스트가 비어있으면 무시
2. `_sending = true`
3. `RelayService.sendBugReport()` 호출
   - message: 입력 텍스트
   - conversationId: 현재 대화 ID
   - workspaceId: 현재 워크스페이스 ID
4. 성공 시:
   - 다이얼로그 닫기
   - "버그 리포트가 전송되었습니다." 스낵바 (`nord14`)
5. 실패 시:
   - "전송 실패: {error}" 스낵바 (`nord11`)

---

## UI 스펙

### 크기

| 요소 | 값 |
|------|-----|
| 컨텐츠 너비 | 400px |
| 입력 필드 줄 수 | 5줄 |

### 색상

| 요소 | 색상 |
|------|------|
| 배경 | `nord1` |
| 타이틀 아이콘 | `nord11` |
| 타이틀 텍스트 | `nord5` |
| 안내 텍스트 | `nord4` → `nord3` |
| 입력 필드 배경 | `nord0` |
| 입력 필드 텍스트 | `nord5` |
| 힌트 텍스트 | `nord3` |
| 포커스 테두리 | `nord8` |
| 취소 버튼 | `nord4` |
| 전송 버튼 배경 | `nord11` |
| 전송 버튼 텍스트 | `nord6` |

### 폰트

| 요소 | 크기 |
|------|------|
| 타이틀 | 18px |
| 안내 텍스트 | 13px |
| 입력 필드 | 14px |
| 하단 안내 | 11px |

### 스타일

| 요소 | 값 |
|------|-----|
| 입력 필드 모서리 | 8px |

---

## 관련 문서

- [../layout/mobile.md](../layout/mobile.md) - 모바일 레이아웃 (트리플 탭)
- [../state/relay-provider.md](../state/relay-provider.md) - Relay 연결
