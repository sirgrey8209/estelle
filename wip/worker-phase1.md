# Worker System - Phase 1 (MVP)

## ëª©í‘œ

ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê¸°ë°˜ UI êµ¬ì¡°ë¡œ ì „í™˜ + ê¸°ë³¸ íƒœìŠ¤í¬ íë¦„ êµ¬í˜„

---

## ê²°ì • ì‚¬í•­

- **ë§ˆì´ê·¸ë ˆì´ì…˜**: ê¸°ì¡´ ë°ìŠ¤í¬ ë²„ë¦¬ê³  ìƒˆë¡œ ì‹œì‘
- **ê¸°ë³¸ ê²½ë¡œ**: `C:/workspace`
- **task/ í´ë”**: `.gitignore`ì— ë“±ë¡
- **ì›Œì»¤**: ìë™ ì‹œì‘, ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë‹¹ 1ê°œ, ì™„ë£Œ ì‹œ ë‹¤ìŒ ìë™ ì‹œì‘

---

## UI ë³€ê²½

### ì‚¬ì´ë“œë°”

**ê¸°ì¡´ (Pylon ê·¸ë£¹):**
```
â–¼ Selene
    ë°ìŠ¤í¬1
    ë°ìŠ¤í¬2
â–¼ Stella
    ë°ìŠ¤í¬3
```

**ìƒˆë¡œìš´ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ > ëŒ€í™”/íƒœìŠ¤í¬):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ ğŸŒ™ Estelle         â”‚  â† ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (í¼ì¹¨)
â”‚     ğŸ’¬ ê¸°ëŠ¥ ë…¼ì˜  ğŸŸ¡  â”‚
â”‚     ğŸ’¬ ë²„ê·¸ ë¶„ì„  ğŸŸ¢  â”‚
â”‚     ğŸ“‹ ë²„íŠ¼ ë³€ê²½  ğŸŸ¡  â”‚
â”‚     ğŸ“‹ ë¡œê·¸ì¸    ğŸ”´  â”‚
â”‚     [+]              â”‚  â† ëŒ€í™”ë§Œ ìƒì„± ê°€ëŠ¥
â”‚                      â”‚
â”‚ â–¶ â­ Work-Proj   ğŸ”´  â”‚  â† ì ‘í˜
â”‚ â–¶ ğŸŒ™ Sandbox     ğŸŸ¡  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+ ì›Œí¬ìŠ¤í˜ì´ìŠ¤]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì•„ì´ì½˜:**
- ğŸŒ™ â­: Pylon
- ğŸ’¬: ëŒ€í™”
- ğŸ“‹: íƒœìŠ¤í¬

**ìƒíƒœ ë‹· (ìš°ì„ ìˆœìœ„):**
1. ğŸ”´ ë¹¨ê°•: ì—ëŸ¬/ì‹¤íŒ¨
2. ğŸŸ¡ ë…¸ë‘: ì‘ì—… ì¤‘
3. ğŸŸ¢ ì´ˆë¡: ì™„ë£Œ, ë¯¸í™•ì¸
4. ì—†ìŒ: idle/í™•ì¸ë¨

ì ‘íŒ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ â†’ ë‚´ë¶€ ìµœê³  ìš°ì„ ìˆœìœ„ ë‹· í‘œì‹œ

### ëŒ€í™”/íƒœìŠ¤í¬ ìƒì„±

- **[+] ë²„íŠ¼**: ëŒ€í™”ë§Œ ìƒì„± ê°€ëŠ¥
- **íƒœìŠ¤í¬ ìƒì„±**: ëŒ€í™” ì•ˆì—ì„œ MCPë¡œ (es-task-builderê°€ task_create í˜¸ì¶œ)

---

### ìƒˆ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë‹¤ì´ì–¼ë¡œê·¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒˆ ì›Œí¬ìŠ¤í˜ì´ìŠ¤                [X]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸŒ™] [estelle                    ]   â”‚  â† Pylon + ì´ë¦„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ C:\workspace\estelle        [â†‘]   â”‚  â† ê²½ë¡œ + ìƒìœ„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  ğŸ“ archive                      â”‚ â”‚
â”‚ â”‚  ğŸ“ estelle                  âœ“   â”‚ â”‚
â”‚ â”‚  ğŸ“ other-project                â”‚ â”‚
â”‚ â”‚  ...                             â”‚ â”‚
â”‚ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚ â”‚  [+ ìƒˆ í´ë”]                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ì·¨ì†Œ] [ìƒì„±]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë™ì‘:**
- Pylon ì•„ì´ì½˜: í´ë¦­ â†’ ë‹¤ìŒ Pylonìœ¼ë¡œ ì‚¬ì´í´
- ì´ë¦„: í´ë” ì„ íƒ ì‹œ ìë™ì…ë ¥, ìˆ˜ì • ê°€ëŠ¥
- [â†‘]: ìƒìœ„ í´ë”ë¡œ
- í´ë” íƒ­: ì„ íƒ (âœ“)
- í´ë” ë”ë¸”íƒ­: í•˜ìœ„ë¡œ ì´ë™
- í´ë” ë¡±í”„ë ˆìŠ¤: ì´ë¦„ ë³€ê²½
- [+ ìƒˆ í´ë”]: í˜„ì¬ ê²½ë¡œì— ìƒì„±
- ê¸°ë³¸ ê²½ë¡œ: `C:/workspace`

---

### íƒœìŠ¤í¬ ì„ íƒ ì‹œ ë©”ì¸ ì˜ì—­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [MD] [ì±„íŒ…]                             â”‚  â† íƒ­
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚   MD íƒ­: íƒœìŠ¤í¬ íŒŒì¼ ë‚´ìš©               â”‚
â”‚   ì±„íŒ… íƒ­: ì›Œì»¤ ìƒíƒœì— ë”°ë¼ ë‹¤ë¦„         â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ë©”ì‹œì§€ ì…ë ¥...]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì±„íŒ… íƒ­ ìƒíƒœ:**
| status | í‘œì‹œ |
|--------|------|
| pending | "ì‘ì—… ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤" |
| running | ì‹¤ì‹œê°„ ì±„íŒ… (ì›Œì»¤ ëŒ€í™”) |
| done/failed | íˆìŠ¤í† ë¦¬ + "ì‘ì—…ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤" (ì…ë ¥ ë¹„í™œì„±í™”) |

---

## Pylon API

### í´ë” ê´€ë¦¬

| ë©”ì‹œì§€ | ì„¤ëª… | payload |
|--------|------|---------|
| `folder_list` | í´ë” ëª©ë¡ | `{ path }` â†’ `{ folders[] }` |
| `folder_create` | ìƒˆ í´ë” | `{ path, name }` |
| `folder_rename` | ì´ë¦„ ë³€ê²½ | `{ path, newName }` |

### íƒœìŠ¤í¬ ê´€ë¦¬

| ë©”ì‹œì§€ | ì„¤ëª… | payload |
|--------|------|---------|
| `task_list` | íƒœìŠ¤í¬ ëª©ë¡ | `{ workspaceId }` â†’ `{ tasks[] }` (ë©”íƒ€ë§Œ) |
| `task_get` | íƒœìŠ¤í¬ ë³¸ë¬¸ | `{ taskId }` â†’ `{ content }` (MD ì „ì²´, ê¸¸ë©´ truncate) |
| `task_status` | íƒœìŠ¤í¬ ìƒíƒœ ë³€ê²½ | `{ taskId, status }` |

**MD ì „ì†¡:**
- ëª©ë¡ ì¡°íšŒ: ë©”íƒ€(frontmatter)ë§Œ ì „ì†¡
- ìƒì„¸ ìš”ì²­: ë³¸ë¬¸ ì „ì²´ (ë„ˆë¬´ ê¸¸ë©´ ë’·ë¶€ë¶„ truncate)

---

## Estelle MCP

Pylon ë‚´ì¥, stdio í†µì‹ .

| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `task_create` | íƒœìŠ¤í¬ ìƒì„± (title, content) |
| `task_list` | íƒœìŠ¤í¬ ëª©ë¡ |
| `worker_status` | ì›Œì»¤ ìƒíƒœ |

---

## Task íŒŒì¼

**ìœ„ì¹˜:** `{workingDir}/task/` (`.gitignore`ì— ë“±ë¡)

**íŒŒì¼ëª…:** `{YYYYMMDD}-{title-kebab}.md`

**í˜•ì‹:**
```markdown
---
id: 550e8400-e29b-41d4-a716-446655440000
title: ë²„íŠ¼ ìƒ‰ìƒ ë³€ê²½
status: pending
createdAt: 2026-01-24T10:00:00Z
startedAt:
completedAt:
error:
---

## ëª©í‘œ
...

## í”Œëœ
1. ...
2. ...
```

**frontmatter:**
| í•„ë“œ | ì„¤ëª… |
|------|------|
| `id` | GUID |
| `title` | ì œëª© (í•œê¸€ 8~10ì ì´ë‚´) |
| `status` | pending / running / done / failed |
| `createdAt` | ìƒì„± ì‹œê°„ |
| `startedAt` | ì‹¤í–‰ ì‹œì‘ ì‹œê°„ |
| `completedAt` | ì™„ë£Œ ì‹œê°„ |
| `error` | ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ |

---

## ì›Œì»¤ ë™ì‘

1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë‹¹ ì›Œì»¤ 1ê°œ
2. pending íƒœìŠ¤í¬ ìˆìœ¼ë©´ ìë™ ì‹œì‘ (FIFO)
3. íƒœìŠ¤í¬ ì‹¤í–‰ ì¤‘ â†’ status: running
4. ì™„ë£Œ â†’ status: done, ë‹¤ìŒ íƒœìŠ¤í¬ ìë™ ì‹œì‘
5. ì‹¤íŒ¨ â†’ status: failed, error ê¸°ë¡, ë‹¤ìŒ íƒœìŠ¤í¬ë¡œ ì§„í–‰

---

## ìŠ¤í‚¬

### es-task-builder
- ëŒ€í™”ìš©
- ì½”ë”© ë„êµ¬ ë¹„í™œì„±í™” (Readë§Œ í—ˆìš©)
- MCPë¡œ íƒœìŠ¤í¬ ìƒì„±

### es-task-worker
- ì›Œì»¤ìš©
- ì½”ë”© ë„êµ¬ í™œì„±í™” (Read, Edit, Write, Bash)
- task/ í´ë” ì½ê³  ì‹¤í–‰

**ì›Œì»¤ ì‹œì‘ í”„ë¡¬í”„íŠ¸:**
```
/es-task-worker {íƒœìŠ¤í¬íŒŒì¼ê²½ë¡œ}ë¥¼ ê¼¼ê¼¼íˆ êµ¬í˜„ ë¶€íƒí•´.
```

ì˜ˆì‹œ:
```
/es-task-worker C:\workspace\estelle\task\20260124-ë²„íŠ¼-ë³€ê²½.mdë¥¼ ê¼¼ê¼¼íˆ êµ¬í˜„ ë¶€íƒí•´.
```

**ìŠ¤í‚¬ ë™ì‘:**
1. íƒœìŠ¤í¬ íŒŒì¼ ì½ê¸°
2. í”Œëœ íŒŒì•…
3. ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
4. ì™„ë£Œ ì‹œ â†’ frontmatter status: done, completedAt ê¸°ë¡
5. ì‹¤íŒ¨ ì‹œ â†’ frontmatter status: failed, error ê¸°ë¡

---

## êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### App
- [ ] ì‚¬ì´ë“œë°” êµ¬ì¡° ë³€ê²½
  - [ ] ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í¼ì¹¨/ì ‘í˜
  - [ ] ëŒ€í™”/íƒœìŠ¤í¬ ëª©ë¡ (ğŸ’¬/ğŸ“‹ ì•„ì´ì½˜)
  - [ ] ìƒíƒœ ë‹· + ìš°ì„ ìˆœìœ„ ë¡œì§
  - [ ] [+] ë²„íŠ¼ (ëŒ€í™”ë§Œ ìƒì„±)
- [ ] ìƒˆ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë‹¤ì´ì–¼ë¡œê·¸
  - [ ] Pylon ì„ íƒ (ì•„ì´ì½˜ ì‚¬ì´í´)
  - [ ] í´ë” íƒìƒ‰ (ê¸°ë³¸: C:/workspace)
  - [ ] í´ë” ìƒì„±/ì´ë¦„ë³€ê²½
- [ ] íƒœìŠ¤í¬ ë©”ì¸ ì˜ì—­
  - [ ] [MD] / [ì±„íŒ…] íƒ­
  - [ ] ìƒíƒœë³„ ì±„íŒ… í‘œì‹œ

### Pylon
- [ ] í´ë” API (folder_list, folder_create, folder_rename)
- [ ] ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì €ì¥ êµ¬ì¡° ë³€ê²½
- [ ] íƒœìŠ¤í¬ ê´€ë¦¬ (task_list, task_get, task_status)
- [ ] ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ (ìë™ ì‹œì‘, FIFO)

### MCP
- [ ] Pylonì— MCP ì„œë²„ ë‚´ì¥
- [ ] task_create
- [ ] task_list
- [ ] worker_status

### ìŠ¤í‚¬
- [ ] es-task-builder
- [ ] es-task-worker

---

*Created: 2026-01-24*
*Updated: 2026-01-24 (ê²°ì • ì‚¬í•­, íƒœìŠ¤í¬ UI, frontmatter ìƒì„¸)*
